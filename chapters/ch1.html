<!-- ch1.html -->
<!-- 第一部分：高维世界的图景——多元函数 -->

<h1>第一部分：高维世界的图景——多元函数</h1>
<p>
    多元微积分的研究始于我们对函数概念的扩展。在这里，函数的输入和输出不再局限于一维的数轴，而是进入了更广阔、更复杂的几何领域。这一部分将探索多元函数的定义、可视化方法以及它们在多维空间中所表现出的独特行为。
</p>

<hr>

<h2>1.1 定义域的演化：输入与输出的新几何形态</h2>
<p>
    多元微积分的研究对象是<strong>多元函数</strong>，其定义域不再是一维的区间 $[a,b]$，而是 n 维欧氏空间 $R^n$ 中的一个区域 $D$。这意味着函数的输入不再是单个实数，而是一个有序数组 $(x_1, x_2, \dots, x_n)$，通常可以方便地表示为一个向量。根据函数值输出的类型，我们将研究两类主要的多元函数：
</p>

<!-- 使用“定义”卡片来突出核心概念 -->
<div class="definition-box">
    <h3>标量场与向量场</h3>
    <ul>
        <li>
            <strong>标量值函数 (标量场):</strong> 这类函数将空间中的一个点映射到一个实数，记为 $f: R^n \rightarrow R$。它们用于描述那些在空间中每一点都有一个数值大小但没有方向的物理量，例如各点的温度分布 $T(x,y,z)$、压强分布 $P(x,y,z)$，或地形图上各点的高度 $H(x,y)$。
        </li>
        <li>
            <strong>向量值函数 (向量场):</strong> 这类函数将空间中的一个点映射到一个向量，记为 $\mathbf{F}: R^n \rightarrow R^m$。它们对于描述那些在空间中每一点既有大小又有方向的现象至关重要，例如流体的速度场、引力场或电磁场。
        </li>
    </ul>
</div>

<!-- 新增：实例分析 -->
<div class="highlight-box">
    <h3>💡 实例分析</h3>
    <div class="two-column-layout">
        <div>
            <p><strong>标量场示例：二次曲面</strong></p>
            <p>考虑标量场 $f(x, y) = x^2 + y^2$。这个函数将二维平面上的每一点 $(x,y)$ 映射到一个实数。它的函数图像 $z = x^2 + y^2$ 是一个开口朝上的<strong>旋转抛物面</strong>，其顶点在原点。</p>
            <p><strong>向量场示例：旋转场</strong></p>
            <p>考虑向量场 $\mathbf{F}(x, y) = \langle -y, x \rangle$。这个函数将二维平面上的每一点 $(x,y)$ 映射到一个二维向量。例如：</p>
            <ul>
                <li>在点 $(1,0)$，向量是 $\langle 0, 1 \rangle$。</li>
                <li>在点 $(0,1)$，向量是 $\langle -1, 0 \rangle$。</li>
                <li>在点 $(-1,0)$，向量是 $\langle 0, -1 \rangle$。</li>
            </ul>
            <p>如果我们将这些向量画出来，会发现它们形成了一个围绕原点的逆时针旋转的漩涡。这个场描述了一种纯旋转运动。</p>
        </div>
        <div>
            <!-- 新增：向量场的可视化 Canvas -->
            <canvas id="vectorFieldCanvas" width="400" height="400" style="border:1px solid #ccc; border-radius: 8px;"></canvas>
            <p style="text-align:center; font-size: 0.9em; color: #555;">向量场 $\mathbf{F}(x,y) = \langle -y, x \rangle$ 的可视化</p>
        </div>
    </div>
</div>

<hr>

<h2>1.2 可视化不可见之物：从曲面到流场</h2>
<p>
    由于二元函数 $f(x,y)$ 的图像存在于三维空间，而三元函数 $f(x,y,z)$ 的图像需要四维空间才能呈现，直接的可视化变得困难甚至不可能。因此，我们依赖于一些强大的间接可视化技术来理解这些函数的行为。
</p>

<h3>对于标量场：</h3>
<div class="two-column-layout">
    <div>
        <h4>函数图像与等高线</h4>
        <p>
            对于二元函数 $z=f(x,y)$，所有满足该方程的点 $(x,y,f(x,y))$ 在三维空间中构成一个<strong>曲面</strong>。这是我们理解二元函数最直观的工具。
        </p>
        <p>
            通过用一系列水平面 $z=c$（其中 c 为常数）去“切”函数曲面，并将得到的交线投影到 xy 平面上，我们便得到了一组<strong>等高线</strong>。在这些曲线上，函数的值恒为 c。等高线越密集的地方，表示函数值变化越剧烈，即曲面越陡峭。
        </p>
    </div>
    <div>
        <h4>等值面</h4>
        <p>
            对于三元函数 $w=f(x,y,z)$，所有满足 $f(x,y,z)=c$ 的点在三维空间中构成一个<strong>等值面</strong>。例如，一个点状热源在空间中产生的温度场，其等温面就是以热源为中心的一系列同心球面。
        </p>
    </div>
</div>

<!-- 新增：实例分析 -->
<div class="highlight-box">
    <h3>💡 实例分析</h3>
    <div class="two-column-layout">
        <div>
            <p><strong>等高线示例</strong></p>
            <p>对于之前的标量场 $f(x, y) = x^2 + y^2$，我们来找它的等高线。设 $f(x,y) = c$（其中 $c \ge 0$），我们得到方程：</p>
            <div class="formula-container">
                $x^2 + y^2 = c$
            </div>
            <p>这是一个以原点为中心，半径为 $\sqrt{c}$ 的圆。因此，这个函数的等高线是一系列同心圆。这与它的图像（旋转抛物面）是完全吻合的：用水平面去切一个碗，得到的横截面总是圆形的。</p>
        </div>
        <div>
            <!-- 新增：等高线图的可视化 Canvas -->
            <canvas id="contourPlotCanvas" width="400" height="400" style="border:1px solid #ccc; border-radius: 8px;"></canvas>
            <p style="text-align:center; font-size: 0.9em; color: #555;">函数 $f(x,y) = x^2+y^2$ 的等高线图</p>
        </div>
    </div>
</div>

<h3>对于向量场：</h3>
<p>
    我们通过在定义域内选取一些有代表性的点，并在这些点上画出函数输出的向量（箭头）来可视化向量场。箭头的方向和长度（或用颜色表示）分别代表了场在该点的方向和大小。这种方法能够直观地展现出“流”的形态，如同磁铁周围的铁屑分布图或气象图上的风向图。
</p>

<div class="highlight-box">
    <h3>几何直觉的力量</h3>
    <p>
        在多元微积分中，这些可视化工具不仅仅是教学辅助，它们本身就是强大的分析工具。纯粹的代数公式往往是抽象的，但通过几何图像，我们可以直观地“看到”导数的本质。
    </p>
    <details>
        <summary>点击展开：从代数到几何的翻译</summary>
        <div class="details-content">
            <p>
                例如，偏导数的代数定义 $\partial f / \partial x$ 显得抽象，但将其理解为曲面 $z=f(x,y)$ 在特定方向上的“切片”的斜率，其意义便豁然开朗。同样，梯度向量 $\nabla f$ 在代数上只是一组偏导数的集合，但其几何性质——即总是垂直于等高线——是一个深刻且并非显而易见的结果。正是这一几何特性，使其成为最速上升方向的指针，并构成了梯度下降等优化算法的核心。
            </p>
            <p>
                旋度和散度的代数公式更是由一堆偏导数组合而成，令人费解。然而，一旦将向量场想象成流体，我们就能直观地将旋度理解为微小区域的旋转（如同水中的小桨轮），将散度理解为流体的膨胀或压缩（源或汇）。因此，可视化的过程，本质上是将抽象的代数语言翻译成直观的几何语言，而多元微积分中各个算子的物理意义和内在本质，正是在这种几何语言中才得以清晰地展现。
            </p>
        </div>
    </details>
</div>

<hr>

<!-- 1.3 节已重写和扩充 -->
<h2>1.3 邻近的挑战：多元极限与连续性</h2>
<p>
    一元函数中，极限 $\lim_{x\to a} f(x)$ 存在的条件是左极限与右极限相等，这是一个简单的双向检验。然而，在多维空间中，一个点 $(a,b)$ 可以沿着无穷多条路径被趋近，例如直线、抛物线、螺旋线等。这种从“两个方向”到“无穷多个方向”的跃升，是多元极限的核心难点。
</p>

<div class="theorem-box">
    <h3>多元极限的关键判据</h3>
    <p>
        多元函数的极限 $\lim_{(x,y)\to(a,b)} f(x,y)$ 若要存在且等于 L，那么函数值 $f(x,y)$ 必须<strong>沿着所有可能路径</strong>趋近于同一个值 L。
    </p>
    <p>
        这个判据引出了我们处理多元极限的两个主要策略：
    </p>
    <ul>
        <li><strong>证明极限不存在：</strong>我们只需要找到<strong>两条</strong>不同的路径，当 $(x,y)$ 沿这两条路径趋近 $(a,b)$ 时，函数 $f(x,y)$ 趋近于不同的值。这就是“反证法”。</li>
        <li><strong>证明极限存在：</strong>我们必须证明，对于<strong>所有</strong>路径，函数都趋近于同一个值。这通常需要使用更强大的工具，例如<strong>夹逼定理</strong>。</li>
    </ul>
</div>

<h3>策略一：通过寻找不同路径来证明极限不存在</h3>
<div class="highlight-box">
    <h3>💡 实例分析：一个不存在的极限</h3>
     <div class="two-column-layout">
        <div>
            <p>考察函数 $f(x, y) = \frac{x^2 - y^2}{x^2 + y^2}$ 在原点 $(0,0)$ 的极限。</p>
            <p><strong>路径1：沿 x 轴趋近原点。</strong></p>
            <p>这意味着令 $y=0$ 且 $x \to 0$。代入函数得：</p>
            <div class="formula-container">
                $\lim_{x \to 0} f(x, 0) = \lim_{x \to 0} \frac{x^2 - 0^2}{x^2 + 0^2} = \lim_{x \to 0} \frac{x^2}{x^2} = 1$
            </div>
            <p><strong>路径2：沿 y 轴趋近原点。</strong></p>
            <p>这意味着令 $x=0$ 且 $y \to 0$。代入函数得：</p>
            <div class="formula-container">
                $\lim_{y \to 0} f(0, y) = \lim_{y \to 0} \frac{0^2 - y^2}{0^2 + y^2} = \lim_{y \to 0} \frac{-y^2}{y^2} = -1$
            </div>
            <p><strong>结论：</strong>因为我们找到了两条路径，它们都趋近于原点，但函数值却趋近于不同的极限（1 和 -1），所以该函数在原点的极限<strong>不存在</strong>。</p>
        </div>
        <div>
            <!-- 极限路径的可视化 Canvas -->
            <canvas id="limitPathCanvas" width="400" height="400" style="border:1px solid #ccc; border-radius: 8px;"></canvas>
            <p style="text-align:center; font-size: 0.9em; color: #555;">不同路径趋近原点时极限不同</p>
        </div>
    </div>
</div>

<h3>策略二：使用夹逼定理证明极限存在</h3>
<p>
    要证明极限存在，我们不能穷举所有路径。夹逼定理（Squeeze Theorem）为我们提供了一个强有力的工具。如果我们能找到一个函数 $g(x,y)$，它在 $(a,b)$ 点的极限为0，并且能证明 $|f(x,y) - L| \le g(x,y)$，那么我们就可以断定 $f(x,y)$ 的极限存在且等于 L。
</p>
<div class="highlight-box">
    <h3>💡 实例分析：使用夹逼定理</h3>
    <p>考察函数 $f(x, y) = \frac{3x^2y}{x^2 + y^2}$ 在原点 $(0,0)$ 的极限。我们猜测极限是 0。</p>
    <p><strong>第一步：建立不等式。</strong></p>
    <p>我们观察到 $x^2 \le x^2 + y^2$。这个不等式是关键。因此，我们可以对函数的绝对值进行放缩：</p>
    <div class="formula-container">
        $|f(x,y) - 0| = \left| \frac{3x^2y}{x^2 + y^2} \right| = \frac{3x^2|y|}{x^2 + y^2} = 3|y| \left( \frac{x^2}{x^2 + y^2} \right) \le 3|y|$
    </div>
    <p><strong>第二步：应用夹逼定理。</strong></p>
    <p>我们成功地将 $f(x,y)$ 的绝对值“夹”在了 0 和 $3|y|$ 之间：$0 \le |f(x,y)| \le 3|y|$。
    当 $(x,y) \to (0,0)$ 时，我们知道 $\lim_{(x,y)\to(0,0)} 3|y| = 0$。
    根据夹逼定理，被夹在中间的 $|f(x,y)|$ 的极限也必须是 0。
    </p>
    <p><strong>结论：</strong>因此，$\lim_{(x,y)\to(0,0)} \frac{3x^2y}{x^2 + y^2} = 0$。极限存在且为0。</p>
</div>

<h3>从极限到连续性</h3>
<p>
    与一元函数一样，连续性的概念建立在极限之上。
</p>
<div class="definition-box">
    <h3>连续性 (Continuity)</h3>
    <p>
        如果函数 $f(x,y)$ 在点 $(a,b)$ 的极限存在，并且该极限值恰好等于函数在该点的函数值，即：
    </p>
    <div class="formula-container">
        $\lim_{(x,y)\to(a,b)} f(x,y) = f(a,b)$
    </div>
    <p>
        那么我们就称函数 $f$ 在点 $(a,b)$ 是<strong>连续的</strong>。
    </p>
    <p>
        直观上，这意味着函数的曲面在点 $(a,b,f(a,b))$ 处是“完整”的，没有任何洞、跳跃或断裂。由于多元极限的要求比一元极限更苛刻（必须沿所有路径成立），因此多元连续性也是一个更强的条件。
    </p>
</div>
